# Tasks for Instrumenta MVP

Документ содержит полный список задач для разработки MVP. Задачи сгруппированы по этапам и компонентам системы.

---

## 0. Подготовка проекта

* [x] Создать monorepo структуру

  * /api — backend (NestJS)
  * /client — frontend (NextJS)
* [x] Настроить общий git-репозиторий
* [x] Настроить ESLint / Prettier (frontend + backend)
* [x] Настроить env-конфигурации (dev / prod)

---

## 1. Backend — Базовая инфраструктура (NestJS)

### 1.1 Инициализация

* [x] Создать NestJS проект
* [x] Подключить PostgreSQL
* [x] Настроить TypeORM или Prisma
* [x] Настроить миграции
* [x] Настроить глобальный error handling
* [ ] Настроить validation pipe

### 1.2 Общие модули

* [x] ConfigModule
* [ ] Logger
* [ ] Health check endpoint

---

## 2. Backend — Аутентификация и пользователи

### 2.1 Auth

* [ ] Модуль auth
* [ ] Регистрация по номеру телефона + пароль
* [ ] Хеширование паролей (bcrypt)
* [ ] Логин (JWT)
* [ ] Refresh token (опционально)
* [ ] Rate limiting на auth

### 2.2 Подтверждение пользователя

* [ ] Поле status (pending / approved / rejected)
* [ ] Middleware/guard: запрет доступа без approved
* [ ] API для подтверждения пользователя суперадмином

### 2.3 Пользователи и роли

* [ ] Модуль users
* [ ] Роли: owner / admin / employee
* [ ] RBAC guards
* [ ] CRUD пользователей (в рамках одной организации/таблицы)

---

## 3. Backend — Таблицы инструментов

### 3.1 Таблицы

* [ ] Модуль tables
* [ ] Создание таблицы (только owner)
* [ ] Получение списка таблиц
* [ ] Удаление таблицы
* [ ] Проверка прав доступа

### 3.2 Инструменты

* [ ] Модуль tools
* [ ] Добавление инструмента
* [ ] Редактирование инструмента
* [ ] Удаление инструмента
* [ ] Получение списка инструментов по таблице
* [ ] Подсчёт общей стоимости

---

## 4. Backend — Подписка и оплата

### 4.1 Подписка

* [ ] Модуль subscriptions
* [ ] Статусы подписки (active / expired / canceled)
* [ ] Ограничение доступа без активной подписки

### 4.2 Платежи

* [ ] Модуль payments
* [ ] Интеграция с платёжным провайдером
* [ ] Создание платёжной сессии
* [ ] Webhook для подтверждения оплаты
* [ ] Продление подписки

---

## 5. Frontend — Базовая инфраструктура (NextJS)

### 5.1 Инициализация

* [ ] Создать NextJS проект
* [ ] Подключить Tailwind
* [ ] Подключить shadcn/ui
* [ ] Настроить FSD-структуру
* [ ] Настроить Zustand

---

## 6. Frontend — Публичная часть

* [ ] Главная страница
* [ ] Блок "Почему проще, чем CRM"
* [ ] Блок "Как работает"
* [ ] Тарифы
* [ ] CTA на регистрацию

---

## 7. Frontend — Аутентификация

* [ ] Страница регистрации
* [ ] Страница входа
* [ ] Валидация форм
* [ ] Обработка статуса pending
* [ ] Zustand store auth

---

## 8. Frontend — Личный кабинет

### 8.1 Дашборд

* [ ] Список таблиц
* [ ] Общая статистика
* [ ] Статус подписки

### 8.2 Таблицы

* [ ] Страница таблицы
* [ ] Адаптивная таблица (mobile-first)
* [ ] Inline-редактирование
* [ ] Добавление / удаление строк

---

## 9. Frontend — Управление пользователями

* [ ] Страница пользователей
* [ ] Добавление пользователя
* [ ] Назначение роли
* [ ] Удаление пользователя
* [ ] Ограничение UI по ролям

---

## 10. Frontend — Подписка

* [ ] Страница оплаты
* [ ] Выбор тарифа (месяц / год)
* [ ] Интеграция с backend payment flow
* [ ] Обработка успешной / неуспешной оплаты

---

## 11. Общие задачи

* [ ] Локализация (RU)
* [ ] Обработка ошибок
* [ ] Skeleton loaders
* [ ] Empty states

---

## 12. Тестирование и релиз

* [ ] Smoke-тесты API
* [ ] Проверка ролей
* [ ] Проверка подписки
* [ ] Проверка mobile UX
* [ ] Подготовка production env
* [ ] Деплой

---

## 13. Post-MVP (не реализовывать сейчас)

* Фото инструментов
* Экспорт в Excel / PDF
* История изменений
* Категории
* Поиск и фильтрация
* PWA / offline режим
